.. image:: https://travis-ci.org/vauxoo-tests/vauxoodocstheme.svg?branch=master
    :target: https://travis-ci.org/vauxoo-tests/vauxoodocstheme

Vauxoo docs.vauxoo.com Sphinx Theme
=========================================

Theme and extension support for Sphinx documentation that is published to
docs.vauxoo.com and developer.vauxoo.com.

Intended for use by Vauxoo `projects governed by the Technical Committee`_.

.. _`projects governed by the Technical Committee`:
http://governance.vauxoo.com/reference/projects/index.html

Using the Theme
===============

Prior to using this theme, ensure your project can use the Vauxoo
brand by referring to the brand guidelines at
http://www.vauxoo.com/brand.

Update the requirements list for your project to
include ``vauxoodocstheme`` (usually in test-requirements.txt).

If your project previously used the oslosphinx theme (without modifying
the header navigation), remove oslosphinx from your requirements list,
and then in your ``conf.py`` you can remove the import statement and
extension listing for oslosphinx.

Some of the settings below are included in the file generated by Sphinx when
you initialize a project, so they may already have values that need to be
changed.

Then modify your Sphinx settings in ``conf.py`` to include::

   import vauxoodocstheme

   html_theme = 'vauxoodocs'
   html_theme_path = [vauxoodocstheme.get_html_theme_path()]

Also, you must include these variables so that the "Log a bug" link sends
metadata for the project where the docs reside::

   # We ask git for the SHA checksum
   # The git SHA checksum is used by "log-a-bug"
   git_cmd = ["/usr/bin/git", "rev-parse", "HEAD"]
   gitsha = subprocess.Popen(
       git_cmd, stdout=subprocess.PIPE).communicate()[0].strip('\n')
   # tag that reported bugs will be tagged with
   bug_tag = "your-chosen-tag"
   # source tree
   pwd = os.getcwd()
   # html_context allows us to pass arbitrary values into the html template
   html_context = {"pwd": pwd, "gitsha": gitsha}
   # Must set this variable to include year, month, day, hours, and minutes.
   html_last_updated_fmt = '%Y-%m-%d %H:%M'

* Free software: Apache License, Version 2.0
* Documentation: http://docs.vauxoo.com/developer/vauxoodocstheme
* Source: http://git.vauxoo.com/cgit/vauxoo/vauxoodocstheme
* Bugs: http://bugs.launchpad.net/vauxoo-manuals

